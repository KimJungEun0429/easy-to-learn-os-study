# 연습문제
#### 1.가상 메모리에서 메모리 관리자가 사용할 수 있는 전체 크기는 어떻게 결정되는가?
물리메모리(실제 메모리)와 스왑 영역을 합한 크기이다. <br>

#### 2.가상 주소에서 하나의 프로세스가 사용할 수 있는 최대 주소는 무엇과 연관이 있는가?
컴퓨터 시스템이 가진 물리 메모리의 최대 크기(CPU의 비트)로 한정된다. <br>

#### 3.가상 메모리에서 가상 주소를 물리 주소로 변환하기 위해 사용하는 자료 구조를 무엇이라 하는가?
매핑 테이블 <br>

#### 4.페이징 기법의 주소 변환 과정 식을 쓰시오.
VA=<P,D> -> PA=<F,D><br>
가상주소 VA=<P,D>를 물리 주소 PA=<F,D>로 변환하는 것이다. <br>
VA=<P,D>가 PA=<F,D>로 변환될 때 페이지 테이블을 사용하여 P는 F로 바꾸고 D는 변경 없이 그대로 쓴다. D를 변경하지 않는 이유는 페이지와 프레임의 크기를 똑같이 나누었기 때문이다. <br>

<img width="641" alt="스크린샷 2022-10-09 오후 9 30 22" src="https://user-images.githubusercontent.com/77275707/194756938-49152359-52b1-40c0-8ec0-bdb080e54628.png">

#### 5.페이지 테이블에서 각각의 한 줄을 무엇이라 하는가?
페이지 테이블 엔트리 PTE<br>

#### 6.가상 주소를 <P, D>로 변환하는 공식을 쓰시오
P=(가상 주소/한 페이지의 크기)의 몫<br>
D=(가상 주소/한 페이지의 크기)의 나머지<br>

#### 7.각 페이지 테이블의 시작 주소를 가지고 있는 레지스터는 무엇인가?
페이지 테이블 기준 레지스터: 각 프로세스의 프로세스 제어 블록에 저장되는 데이터로 물리 메모리 내에 페이지 테이블의 시작 주소를 갖고 있다.<br>

#### 8.페이지 테이블 매핑 방식 중 모든 페이지 테이블을 스왑 영역에 저장하고 그중 일부는 물리 메모리에 무작위로 가지고 있는 방식은 무엇인가?
연관 매핑<br>

#### 9.페이지 테이블 매핑 방식 중, 모든 페이지 테이블을 물리 메모리에 보관하는 방식은 무엇인가?
직접 매핑<br>

#### 10.페이지 테이블 매핑 방식 중, 모든 페이지 테이블을 스왑 영역에 저장하고 페이지 테이블을 일정한 집합 단위로 물리 메모리에 보관하는 방식은 무엇인가?
집합-연관 매핑<br>

#### 11.페이지 테이블 매핑 방식 중, 물리 메모리의 프레임 번호를 기준으로 테이블을 구성하는 방식은 무엇인가?
역매핑<br>

#### 12.연관 매핑에서 사용하는 테이블의 이름은 무엇인가?
변환 색인 버퍼 혹은 연관 레지스터<br>

#### 13.연관 매핑에서 원하는 데이터가 변환 색인 버퍼에 없는 상태를 무엇이라 하는가?
TLB 미스<br>

#### 14.연관 매핑에서 전체 매핑 테이블을 어디에 보관하는가?
스왑 영역<br>

#### 15.가상 메모리에서 메모리 관리자는 물리 메모리 영역과 스왑 영역을 합쳐서 프로세스가 사용하는 가상 주소를 실제 메모리의 물리 주소로 변환한다. 이러한 작업을 무엇이라 하는가?
동적 주소 변환<br>

#### 16.사용자 프로세스가 자신의 크기보다 더 큰 주소에 접근하려고 하면 메모리 관리자는 그 프로세스를 강제 종료한다. 이때 발생하는 오류를 무엇이라 하는가?
트랩<br>

#### 17.세그멘테이션-페이징 혼용 기법에서는 접근 권한을 어디서 관리하는가?
프로세스 제어 블록<br>


# 심화문제
#### 1.가상 메모리가 이론적으로 가질 수 있는 크기와 실제 운영되는 크기는 어떤 차이가 있는지 설명하시오.
이론적으로 가상 메모리의 크기는 무한대의 크기이다. 그러나 실제로 가상 메모리의 최대 크기는 그 컴퓨터 시스템이 가진 물리 메모리의 최대 크기로 한정되며, CPU의 비트에 따라 결정된다. 가상 메모리는 프로세스를 실행할 때 물리 메모리의 내용 중 일부를 스왑 영억으로 롬긴다. 메모리 관리자는 물리 메모리의 부족한 영역을 스왑 영역으로 보충한다. <br>

#### 2.페이징 기법의 주소 변환 과정을 그림으로 그리고 설명하시오.

<img width="641" alt="스크린샷 2022-10-09 오후 9 30 22" src="https://user-images.githubusercontent.com/77275707/194758061-d16d8b24-50b3-4136-a560-7ed8c77a8300.png">

* 프로세스가 30번의 내용을 읽으려고 할 때의 주소 변환 과정은 다음과 같다. <br>
1.가상 주소 30번지가 어느 페이지에 있는지 찾는다. 30번지는 페이지 3의 0번째 위치에 있다. <br>
2.페이지 테이블의 페이지 3으로 가서 해당 페이지가 프레임1에 있다는 것을 알아낸다. <br>
3.최종적으로 물리 메모리 프레임 1의 0번째 위치에 접근한다. 이 주소가 가상 주소 30번지의 물리 주소이다. <br>

* 이번에는 프로세스가 가상 주소 18번지에 어떤 값을 저장하려고 할 때의 주소 변환 과정을 살펴보자. 
1.가상 주소 18번지가 어느 페이지에 있는지 찾는다. 18번지는 페이지의 1의 8번째에 위치해있다. 
2.페이지 테이블의 페이지 1로 가서 해당 페이지가 프레임 3에 있다는 것을 알아낸다. 
3.프로세스가 저장하려는 값을 프레임 3의 8번 위치에 저장한다.  

#### 3.연관 매핑의 동작을 설명하시오.
* 연관매핑: 페이지 테이블 전체를 스왑 영역에서 관리하는 방식이다. 물리 메모리의 여유 공간이 작을 때 사용하는 방식으로 전체 페이지 테이블을 스왑 영역에 두고 페이지 테이블의 일부를 물리 메모리로 가져오는 방식이다. 
메모리에 접근하기 위해 먼저 변환 색인 버퍼를 찾아본다. 원하는 페이지 번호가 변환 색인 버퍼에 있을 경우 TLB 히트라고 하며 곧바로 물리 주소로 변환한다. 원하는 페이지 번호가 변환 색인 버퍼에 없는 경우는 TLB미스라고 하며 스왑 영역에 저장된 직접 매핑 테이블을 사용하여 프레임 번호로 변환한다. <br>

#### 4.집합-연관 매핑의 동작을 설명하시오.
* 집합-연관 매핑: 모든 변환 색인 버퍼를 검색한 후에야 TLB 미스가 있다는 사실을 알게됨으로써 전체 시스템의 성능이 떨어지는 단점을 개선한 것으로 일반적으로 컴퓨터를 사용할 때 파일이 많으면 디렉터리를 사용하여 일정한 묶음으로 묶어놓는다. 
페이지 테이블이 일정 크기의 묶음으로 나뉘기 때문에 가상 주소를 VA=<P,D>가 아니라 VA=<P1, P2, D>로 바꾸어 표시한다. P1은 디렉터리 테이블에서의 우치 정보를, P2는 묶음 내에서의 위치 정보를 나타낸다. 직접 매핑 방식처럼 한 번에 물리 주소로 반환되는 것이 아니라 두 단계를 거쳐 물리 주소로 변환된다. <br>

#### 5.역매핑의 동작을 설명하시오.
* 역매핑:물리 메모리의 프레임 번호를 기준으로 테이블을 작성한다. 즉 물리 메모리가 어떤 프로세스의 어떤 페이지를 가지고 있는지를 테이블로 구성한다. 

주소 변환시 메모리 관리자는 주소 변환을 해야 하는 프로세스의 아이디와 페이지 번호가 물리 메모리에 있는지 역매핑 테이블에서 검색한다. 현재 테이블에 원하는 데이터가 없으면 스왑 영역에서 가져온다. <br>

#### 6.세그먼테이션-페이징 혼용 기법을 사용하는 이유를 설명하시오.
* 페이지 테이블에 권한 비트가 추가되면 페이지 테이블의 크기가 커진다. 이는 인접한 페이지의 메모리 접근 권한이 같은 경우가 많은데도 불구하고 페이지마다 권한 비트를 설정하여 메모리를 낭비하는 요소가 된다. 이러한 문제를 완화하려면 반복되는 권한 비트를 줄여야 한다. 

페이징 기법에 세그멘테이션 테이블을 추가하고 권한 비트와 같이 중복되는 데이터를 세그먼테이션 테이블로 옮겨 오면 테이블의 크기를 줄일 수 있다. 그렇게 페이징 기법과 세그먼테이션 기법을 혼합하여 사용하면 메모리 관리를 효율적으로 할 수 있다.

