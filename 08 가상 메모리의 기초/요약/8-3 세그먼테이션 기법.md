# 03 세그먼테이션 기법

* 가변 분할 방식을 이용한 가상 메모리 관리 기법
* 물리 메모리를 프로세스의 크기에 따라 가변적으로 나누어 사용

## 1 세그먼테이션 기법의 구현
    * 가상 주소가 물리 주소로 변환 될 때 매핑 테이블 사용(세그먼테이션 또는 세그먼테이션 매핑 테이블)
    * 세그먼테이션 테이블은 세그먼트의 크기를 나타내는 limit과 물리 메모리상의 시작 주소를 나타내는 address가 있음
        * 각 세그먼트가 자신에게 주어진 메모리 영역을 넘으면 안되기 때문에 limit 용어 사용
    * 물리 영역이 부족할 때 스왑 영역을 사용
    * 장점 : 메모리를 프로세스 단위로 관리하기 때문에 페이지 테이블이 작고 단순   
    * 단점 : 물리 메모리의 외부 단편화로 인해 믈리 메모리 관리가 불편

## 2 세그먼테이션 기법의 주소 변환
    * 가상 주소 VA = <S, D> 
        * S : segment number, D : distance(세그먼트 시작 지점에서 해당 주소까지의 거리)
        * 가상 메모리에서 사용자에게 보이는 메모리는 모두 0부터 시작하기 때문에 D는 사용자가 저장한 주소 그 자체
    * 주소 변환 과정 (ex 프로세스 A의 32번지 접근)
        1. 가상 주소를 구함
            * 프로세스 A는 세그먼트 0으로 분할되었으므로 VA = <0, 32>
        2. 세그먼테이션 테이블에서 세그먼트 0의 시작 주소를 알아낸 후 시작 주소에서 32를 더하여 물리 주소를 구함
            * 메모리 관리자는 거리가 세그먼트의 크기보다 큰지 점검해야함
            * 크다면 메모리 오류를 출력하고 프로세스 강제 종료(트랩)
            * 트랩은 자신의 영역을 벗어나는 주소에 접근하거나 0으로 나는 것과 같이 사용자 의도치 않게 일어나는 인터럽트를 말함
            * 트랩과 반대로 사용자가 의도하여 발생시키는 인터럽트를 시그널이라고 함
        3. 위에서 구한 물리 주소에 접근하여 원하는 데이터를 읽거나 씀
    